# 2장 서버
**서버**란 사용자의 요청을 받고 응답을 반환하는 하드웨어를 말한다.

## 2.1 서버의 종류
- 랙 마운트형과 타워형 서버의 차이
    **랙 마운트형 서버**는 데이터 센터나 서버 룸에 설치된 랙 안에 들어간다.
    **타워형 서버**는 사내 서버 룸에 설치되거나 사무실 또는 점포 등에도 설치된다.
    서버는 냉방과 소음을 고려해서 설치 장소를 골라야 한다.

- 엔트리
    **가격** : 수백만원
    **용도** : 주로 웹 서버나 애플리케이션 서버에서 이용
    **CPU 탑재** : 소켓 단위로 1 ~ 2개의 CPU 탑재

- 미들레인지
    **가격** : 수천만원
    **용도** : 데이터베이스 서버나 기간계 서버에서 이용
    **CPU 탑재** : 소켓 단위로 4개 이상의 CPU 탑재

- 하이엔드 서버
    **가격** : 수억원
    **용도** : 데이터베이스 서버나 기간계 서버에서 이용
    **CPU 탑재** : 소켓 단위로 수십 개 이상의 CPU 탑재

- IA 서버
    인텔이나 AMD 등 인텔 호환 CPU를 탑재하고 일반 컴퓨터와 같은 아키텍처를 기반으로 해 만들어진 서버를 말한다.

- 엔터프라이즈 서버
    기간계에 사용되는 서버를 가리켜 '엔터프라이즈 서버'라고 부른다.

## 2.2 서버 선정
- 서버의 조건
    CPU, 메모리, 디스크, NIC 포트 수, RAID 유무 등

- 서버 사양 결정 방법
    1) 실제 환경을 시험적으로 구축해 측정 결과를 보고 판단
        - 준비에 많은 노력과 시간이 필요
    2) 임시로 결정한 서버 사양의 기기를 현장에 투입해 실제 하드웨어 자원의 이용 상황을 측정한 다음, 서버와 서버의 부품을 늘리거나 줄인다.
        - 실제로 공개해보지 않아서 액세스 양이 판명되지 않을 때 좋은 방법
    3) 소거법으로 사용을 좁혀간다.
        - 어느 정도, 서비스의 성질이 정해져 있을 때 사용하는 방법

- 스케일 아웃과 스케일 업
**스케일 아웃**은 성능이 부족해지면 서버의 수를 늘려서 수용량을 늘리는 방법
**스케일 업**은 성능이 부족해지면 메모리 증설 등 부품을 추가/교환하거나 상위 기종으로 교체해 서버 성능을 높이는 방법

## 2.3 CPU
- 성능과 발열, 소비 전력
멀티코어나 멀티스레드와 같은 방식을 이용해서 하나의 CPU로 동시에 처리할 수 있는 연산 개수를 늘려서 연산 능력의 향상을 기대한다.

- CPU 선정의 포인트
    1) 요구하는 연산 능력을 만족하는가? 
    2) 가격이 타당한가?
    3) 소프트웨어의 라이센스 체계를 잘 이해하고 가능한 싼 가격의 라이센스 체계를 골랐는가?
    4) 소비 전력을 절약하고 싶은가?

## 2.4 메모리
서버용 메모리에서는 용량 이외에도 내장애성, 성능, 저전력 등이 중시

- 성능
  - ex) 'DDR3-1600'인 경우 데이터 전송 속도 = 1600MHz * 8bytes  = 12.8GB/sec

- 메모리 용어
  - 슬롯 ( 메인보드에 있는 메모리 삽입구 )
  - ECC 메모리
    - 패리티 정보가 추가된 메모리
    - ECC 메모리를 사용했을 때 메모리 고장 발생 시 비트 반전 오류를 메모리가 스스로 잡는다.
  - 채널
    - CPU와 메인보드의 칩셋이 복수의 채널을 지원하면, 채널별로 같은 종류의 메모리를 탑재해 데이터 폭을 넓히고 성능을 높힐 수 있다.
    - 다중 채널을 실현할 때 각 프로세서의 메모리 구성은 동일해야 한다.
  - 랭크
    - 메모리 컨트롤러가 메모리의 DRAM에서 데이터를 입출력하는 단위
    - 서버에 메모리를 삽입할 때 랭크의 총 사용 수가 많아지게 조합하면 액세스 성능이 향상된다.
  - DIMM ( 여러 개의 DRAM 칩을 회로 기판 위에 탑재한 메모리 모듈 )
  - UDIMM
    - 버퍼 없는 DIMM(Dual In-line Memory Module)
    - 버퍼나 레지스터가 없어 빠른 액세스 가능
  - RDIMM
    - 레지스터 DIMM
    - 버퍼(레지스터)를 추가하여 DIMM의 주소와 명령 신호를 관리
    - 대용량 메모리나 안정적으로 운영이 필요한 서버용 메모리로 자주 사용
    - 중간에 버퍼 회로가 있어서 딜레이가 증가하므로 UDIMM보다 액세스 속도가 떨어진다.
  - LRDIMM
    - RDIMM에 버퍼를 추가하여 데이터 신호를 제어
    - 메모리 컨트롤러와 메모리 칩 사이의 모든 통신이 버퍼 회로를 매개로 이루어지는 DIMM
  - LV
    - 저전력을 실현한 메모리
    
- 메모리 삽입 방법 규칙
  - 각 프로세서의 메모리 구성은 같아야 한다.
  - RDIMM 메모리와 UDIMM 메모리는 섞어서 쓸 수 없다.
  - 각 채널에 탑재하는 메모리는 같은 종류로 할 필요가 있다.
  - 저전압 메모리와 저전압이 아닌 메모리는 섞어서 쓸 수 있을 때가 많다.
  - 원칙적으로 ECC 메모리와 비 ECC 메모리는 섞어서 쓸 수 없다.

## 2.5 디스크의 종류

## 2.6 RAID

## 2.7 가상화

## 2.8 클라우드 : IaaS
